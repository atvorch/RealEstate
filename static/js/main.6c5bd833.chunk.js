(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{26:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var r,o,a=n(0),c=n.n(a),i=n(4),u=n.n(i),l=n(2),s=n(9);!function(e){e.Apartment="Apartment",e.Terraced="Terraced",e.Detached="Detached",e.SemiDetached="Semi-detached"}(r||(r={}));var p=Object.values(r),d=(o={},Object(s.a)(o,r.Apartment.toLowerCase(),"#8479f9"),Object(s.a)(o,r.Terraced.toLowerCase(),"#fb68c3"),Object(s.a)(o,r.Detached.toLowerCase(),"#0DAD8D"),Object(s.a)(o,r.SemiDetached.toLowerCase(),"orange"),o),f=["1","2","3","4","5","6","7","8"],y=["1","2","3","4","5","6"],m=n(3);function b(){var e=Object(l.a)(["\n  cursor: default;\n"]);return b=function(){return e},e}function h(){var e=Object(l.a)(["\n  width: 20px;\n  height: 20px;\n  margin-right: 10px;\n  background: ",";\n"]);return h=function(){return e},e}function g(){var e=Object(l.a)(["\n  display: flex;\n  & + & {\n    margin-top: 10px;\n  }\n"]);return g=function(){return e},e}function v(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return v=function(){return e},e}var x=m.a.div(v()),j=m.a.div(g()),O=m.a.div(h(),(function(e){return e.color})),E=m.a.span(b()),P=function(e){var t=e.className;return c.a.createElement(x,{className:t},Object.values(r).map((function(e){return c.a.createElement(j,{key:"colorPallet-".concat(e),color:d[e]},c.a.createElement(O,{color:d[e.toLocaleLowerCase()]}),c.a.createElement(E,null,e))})))};function w(){var e=Object(l.a)(["\n  margin-left: 40px;\n"]);return w=function(){return e},e}function T(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n"]);return T=function(){return e},e}function Q(){var e=Object(l.a)(["\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 30px;\n"]);return Q=function(){return e},e}function B(){var e=Object(l.a)(["\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  flex-grow: 1;\n"]);return B=function(){return e},e}function S(){var e=Object(l.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  padding: 20px 20px 20px 50px;\n  box-sizing: border-box;\n"]);return S=function(){return e},e}var C=m.a.div(S()),I=m.a.div(B()),k=m.a.header(Q()),L=m.a.div(T()),D=Object(m.a)(P)(w()),N=n(6),A=n(19),z=n.n(A),M=function(){return fetch("data.csv").then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.text().then((function(e){return z.a.parse(e,{header:!0}).data}))})).catch((function(e){return console.error(e)}))},F={propertyType:"",bedroomsQuantity:"",bathroomsQuantity:""},G="filtersModule/setProperyType",q="filtersModule/setBedroomsQuantity",J="filtersModule/setBathroomsQuantity",V=function(e){return e.filters},K={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(N.a)(Object(N.a)({},e),{},{propertyType:t.payload});case q:return Object(N.a)(Object(N.a)({},e),{},{bedroomsQuantity:t.payload});case J:return Object(N.a)(Object(N.a)({},e),{},{bathroomsQuantity:t.payload});default:return e}},actions:{setPropertyType:function(e){return function(t){t({type:G,payload:e}),t(ee.actions.refreshSelectedProperty())}},setBedroomsQuantity:function(e){return function(t){t({type:q,payload:e}),t(ee.actions.refreshSelectedProperty())}},setBathroomsQuantity:function(e){return function(t){t({type:J,payload:e}),t(ee.actions.refreshSelectedProperty())}}},selectors:{getAllFilters:function(e){return V(e)},getPropertyType:function(e){return V(e).propertyType},getBedroomsQuantity:function(e){return V(e).bedroomsQuantity},getBathroomsQuantity:function(e){return V(e).bathroomsQuantity}}},R=n(12),U={properties:[],selectedPropertyId:""},W="propertiesModule/setProperties",Z="propertiesModule/setSelectedPropertyId",H=function(e){return e.properties},X=function(e){return H(e).properties},Y=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.propertyType,r=void 0===n?"":n,o=t.bedroomsQuantity,a=void 0===o?"":o,c=t.bathroomsQuantity,i=void 0===c?"":c,u=Object(R.a)(e);return r&&(u=u.filter((function(e){return e.propertyType.toLocaleLowerCase()===r.toLocaleLowerCase()}))),a&&(u=u.filter((function(e){return e.beds===a}))),i&&(u=u.filter((function(e){return e.baths===i}))),u}(X(e),K.selectors.getAllFilters(e))},$=function(e){return H(e).selectedPropertyId},_=function(e){return function(t){t({type:Z,payload:e})}},ee={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(N.a)(Object(N.a)({},e),{},{properties:t.payload});case Z:return Object(N.a)(Object(N.a)({},e),{},{selectedPropertyId:t.payload});default:return e}},actions:{loadProperties:function(){return function(e){return M().then((function(t){var n;t&&e((n=t,function(e){e({type:W,payload:n})}))}),(function(e){console.error(e)}))}},setSelectedPropertyId:_,refreshSelectedProperty:function(){return function(e,t){var n=Y(t()),r=$(t());r&&!n.some((function(e){return e.address===r}))&&e(_(""))}}},selectors:{getProperties:X,getFilteredProperties:Y,getSelectedProperty:function(e){var t=H(e);return t.properties.find((function(e){return e.address===t.selectedPropertyId}))},getSelectedPropertyId:$}},te=n(5),ne=function(e){var t=e.title,n=e.options,r=e.selected,o=e.onChange,a=e.className;return c.a.createElement("select",{className:a,onChange:function(e){o(e.target.value)},value:r||""},c.a.createElement("option",{value:""},t),n.map((function(e){return c.a.createElement("option",{value:e,key:"select-".concat(t,"-").concat(e)},e)})))};function re(){var e=Object(l.a)(["\n  height: 30px;\n  width: 150px;\n  padding: 0 10px;\n  & + & {\n    margin-left: 50px;\n  }\n"]);return re=function(){return e},e}function oe(){var e=Object(l.a)(["\n  color: #3e88e4;\n  font-size: 24px;\n"]);return oe=function(){return e},e}function ae(){var e=Object(l.a)(["\n  height: 100px;\n  display: flex;\n  align-items: center;\n"]);return ae=function(){return e},e}function ce(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return ce=function(){return e},e}var ie=m.a.div(ce()),ue=m.a.div(ae()),le=m.a.span(oe()),se=Object(m.a)(ne)(re()),pe=Object(te.b)((function(e){return{propertyType:K.selectors.getPropertyType(e),bedroomsQuantity:K.selectors.getBedroomsQuantity(e),bathroomsQuantity:K.selectors.getBathroomsQuantity(e)}}),{setPropertyType:K.actions.setPropertyType,setBathroomsQuantity:K.actions.setBathroomsQuantity,setBedroomsQuantity:K.actions.setBedroomsQuantity})((function(e){var t=e.propertyType,n=e.bedroomsQuantity,r=e.bathroomsQuantity,o=e.setPropertyType,a=e.setBathroomsQuantity,i=e.setBedroomsQuantity;return c.a.createElement(ie,null,c.a.createElement(le,null,"Filter"),c.a.createElement(ue,null,c.a.createElement(se,{title:"Property Type",options:p,onChange:o,selected:t}),c.a.createElement(se,{title:"Bedrooms",options:y,onChange:i,selected:n}),c.a.createElement(se,{title:"Bathrooms",options:f,onChange:a,selected:r})))})),de=n(25);function fe(){var e=Object(l.a)(["\n  border-radius: 100%;\n  background-color: ",";\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  color: white;\n  cursor: pointer;\n  transition: 0.5s;\n  &:hover {\n    transform: scale(1.2);\n  }\n  box-shadow: ",";\n"]);return fe=function(){return e},e}var ye=m.a.div(fe(),(function(e){return e.color}),(function(e){return e.selected?"0 0 11px 10px #2fd4c9;":"none"})),me=function(e){var t=e.number,n=e.onClick,r=e.color,o=e.selected;return c.a.createElement(ye,{color:r,onClick:n,selected:o},t)},be=Object(te.b)((function(e){return{filteredProperties:ee.selectors.getFilteredProperties(e),selectedPropertyId:ee.selectors.getSelectedPropertyId(e)}}),{setSelectedPropertyId:ee.actions.setSelectedPropertyId}),he={lat:53.35014,lng:-6.266155},ge=be((function(e){var t=e.filteredProperties,n=e.selectedPropertyId,r=e.setSelectedPropertyId;return c.a.createElement("div",{style:{flexGrow:1,width:"100%"}},c.a.createElement(de.a,{bootstrapURLKeys:{key:"AIzaSyDCMkF1zGMrDg0wIKFLzBoCp6tTibJQ7-k"},defaultCenter:he,defaultZoom:12,onGoogleApiLoaded:function(e){return function(e,n){if(t&&t.length){var r=new n.LatLngBounds;t.forEach((function(e){var t=e.lat,o=e.lon;r.extend(new n.LatLng(t,o))})),e.fitBounds(r)}}(e.map,e.maps)}},t.length?t.map((function(e,t){return c.a.createElement(me,{key:"marker-".concat(e.address),lat:e.lat,lng:e.lon,onClick:function(){return r(e.address)},number:t+1,color:d[e.propertyType.toLowerCase()],selected:e.address===n})})):null))}));function ve(){var e=Object(l.a)(["\n  display: flex;\n  margin: 20px 0;\n  "," + "," {\n    margin: 0 0 0 30px;\n  }\n"]);return ve=function(){return e},e}function xe(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  & + & {\n    margin-top: 20px;\n  }\n"]);return xe=function(){return e},e}function je(){var e=Object(l.a)(["\n  width: 200px;\n  height: 200px;\n  background: lightgray;\n  width: 100%;\n  object-fit: cover;\n"]);return je=function(){return e},e}function Oe(){var e=Object(l.a)(["\n  color: black;\n  cursor: default;\n  text-transform: capitalize;\n"]);return Oe=function(){return e},e}function Ee(){var e=Object(l.a)(["\n  margin-bottom: 10px;\n  color: #3e88e4;\n  cursor: default;\n"]);return Ee=function(){return e},e}function Pe(){var e=Object(l.a)(["\n  cursor: default;\n  color: #3e88e4;\n  margin: 0 0 83px;\n"]);return Pe=function(){return e},e}function we(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  border: 1px dashed #3e88e469;\n  padding-right: 20px;\n  margin-right: 20px;\n  border-width: 0 2px 0 0;\n"]);return we=function(){return e},e}function Te(){var e=Object(l.a)(["\n  font-size: 20px;\n  margin-top: 28px;\n"]);return Te=function(){return e},e}var Qe=m.a.span(Te()),Be=m.a.article(we()),Se=m.a.h1(Pe()),Ce=m.a.span(Ee()),Ie=m.a.span(Oe()),ke=m.a.img(je()),Le=m.a.div(xe()),De=m.a.div(ve(),Le,Le),Ne={Title:"Property Details",GoogleStreetView:"Google Street View",Beds:"Beds",Baths:"Baths",PropertyType:"Property Type",Address:"Address",Sqm:"Sqm",Price:"Price",NoInfo:"Not specified"},Ae=function(e){var t=e.title,n=e.text;return c.a.createElement(Le,null,c.a.createElement(Ce,null,t),c.a.createElement(Ie,null,n))},ze=Object(te.b)((function(e){return{selectedProperty:ee.selectors.getSelectedProperty(e)}}))((function(e){var t=e.selectedProperty;if(!t)return c.a.createElement(Be,null,c.a.createElement(Se,null,Ne.Title),c.a.createElement(Qe,null,"Select Property for Details"));var n=t,r=n.propertyType,o=n.address,a=n.lat,i=n.lon,u=n.sqm,l=n.price,s=n.beds,p=n.baths;return c.a.createElement(Be,null,c.a.createElement(Se,null,Ne.Title),c.a.createElement(Ce,null,Ne.GoogleStreetView),c.a.createElement(ke,{src:"".concat("https://maps.googleapis.com/maps/api/streetview?fov=80&heading=70&pitch=0&key=AIzaSyDCMkF1zGMrDg0wIKFLzBoCp6tTibJQ7-k&size=400x400","&location=").concat(a,",").concat(i)}),c.a.createElement(De,null,c.a.createElement(Ae,{title:Ne.Beds,text:s||Ne.NoInfo}),c.a.createElement(Ae,{title:Ne.Baths,text:p||Ne.NoInfo})),c.a.createElement(Ae,{title:Ne.PropertyType,text:r?r.toLowerCase():Ne.NoInfo}),c.a.createElement(Ae,{title:Ne.Address,text:o?o.toLowerCase():Ne.NoInfo}),c.a.createElement(Ae,{title:Ne.Sqm,text:u||Ne.NoInfo}),c.a.createElement(Ae,{title:Ne.Price,text:"\u20ac".concat(l||Ne.NoInfo)}))})),Me=n(22);function Fe(){var e=Object(l.a)(["\n  width: 100px;\n  height: 100px;\n  border-radius: 100%;\n"]);return Fe=function(){return e},e}var Ge=Object(te.b)((function(e){return{properties:ee.selectors.getProperties(e)}})),qe=Object(m.a)(Me.PieChart)(Fe()),Je=Ge((function(e){var t=e.properties,n=c.a.useMemo((function(){var e=Object(R.a)(t).map((function(e){return e.propertyType.toLowerCase()})),n={};return e.forEach((function(e){n[e]=(n[e]||0)+1})),Object.keys(n).map((function(e){return{title:e,color:d[e],value:n[e]}}))}),[t]);return c.a.createElement(qe,{data:n,totalValue:t.length,label:function(e){return e.dataEntry.value}})})),Ve=Object(te.b)((function(e){return{properties:ee.selectors.getProperties(e)}}),{loadProperties:ee.actions.loadProperties})((function(e){var t=e.properties,n=e.loadProperties;return c.a.useEffect((function(){t&&t.length||n()}),[t,n]),c.a.createElement(C,null,c.a.createElement(ze,null),c.a.createElement(I,null,c.a.createElement(k,null,c.a.createElement(pe,null),c.a.createElement(L,null,c.a.createElement(Je,null),c.a.createElement(D,null))),c.a.createElement(ge,null)))})),Ke=n(23),Re=n(24),Ue=n(8),We=Object(Ue.combineReducers)({properties:ee.reducer,filters:K.reducer});var Ze=Object(Ue.createStore)(We,Object(Ke.composeWithDevTools)(Object(Ue.applyMiddleware)(Re.a)));u.a.render(c.a.createElement(te.a,{store:Ze},c.a.createElement(Ve,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.6c5bd833.chunk.js.map